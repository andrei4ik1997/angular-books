import{B as hn,E as gn,I as mn}from"./chunk-WUGQDPLH.js";import"./chunk-JGYM447R.js";import{b as Qe,c as bt,d as ct,e as Ht,f as At,g as tn,h as en,i as nn,ia as Q,j as rn,ja as cn,k as on,ka as _,l as Kt,la as un,m as It,ma as fn,n as sn,na as I,o as X,pa as dn,qa as Wt,r as Tt,ra as pn,s as an,sa as ut,t as A,ta as V,u as J,ua as Ot,va as ln,wa as tt,xa as O}from"./chunk-NMSNMWDB.js";import{a as Y,b as ze,c as He,d as Ke,f as We,g as qe,h as Ze,k as Ye,l as Xe,m as Je}from"./chunk-UVSGBOMG.js";import{d as Ge,m as zt}from"./chunk-2IZ7IHI6.js";import{$ as C,$b as _e,A as q,Ab as _t,B as R,Bb as Vt,Cb as vt,D as Et,E as st,F as ye,Ga as je,H as D,I as Se,Ia as Pe,Ja as St,K as ve,L as be,N as Ae,Q as $t,T as Ie,Ta as Ut,Tb as Ue,Ua as Ne,V as Te,W as Oe,X as we,Z as Ce,_a as De,aa as yt,ab as Le,bc as Ve,c as it,ca as at,cb as Be,da as xe,dc as Gt,ea as Re,eb as $e,f as gt,fb as Z,ga as v,h as de,i as pe,j as le,ja as M,k as he,la as T,m as K,ma as l,n as ge,oa as ke,q as me,r as S,ra as Me,t as Lt,v as Ee,va as H,w as mt,wa as Fe,y as Bt,z as U}from"./chunk-M53VWNKG.js";import{a as f,b as E}from"./chunk-55KE2TB7.js";var G={getAuthors:ut(Ot.toUpperCase(),"Get authors",ct())};var fr=e=>pn(tt.toUpperCase(),e),x={initApp:bt(fr("Init App")),getGenres:ut(tt.toUpperCase(),"Get genres",ct()),getLanguages:ut(tt.toUpperCase(),"Get languages",ct())};var En=(()=>{let t=class t{constructor(){this.store=l(X)}ngOnInit(){this.store.dispatch(x.initApp()),this.store.dispatch(G.getAuthors.requested())}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Me({type:t,selectors:[["app-root"]],standalone:!0,features:[Ue],decls:5,vars:0,consts:[[1,"header"],[1,"main"],[1,"footer"]],template:function(r,i){r&1&&(_t(0,"header",0),vt(1,"toolbar"),Vt(),_t(2,"main",1),vt(3,"router-outlet"),Vt(),vt(4,"footer",2))},dependencies:[We,cn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:0;height:100%;width:100%}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--margin-xs);box-sizing:border-box;flex:1;height:0;padding:var(--padding)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]  not-found-container, [_nghost-%COMP%]   .main[_ngcontent-%COMP%]  books-container{display:flex;flex-direction:column;gap:var(--margin-xs);flex:1;height:0}"]});let e=t;return e})();var dr="@",pr=(()=>{let t=class t{constructor(n,r,i,s,a){this.doc=n,this.delegate=r,this.zone=i,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=l(Le,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-N5Y427EA.js")).catch(r=>{throw new Re(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:i})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new i(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let i=this.delegate.createRenderer(n,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new qt(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let b=a.createRenderer(n,r);s.use(b)}).catch(a=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){De()},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})(),qt=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let o of this.replay)o(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,o){return this.delegate.createElement(t,o)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,o){this.delegate.appendChild(t,o)}insertBefore(t,o,n,r){this.delegate.insertBefore(t,o,n,r)}removeChild(t,o,n){this.delegate.removeChild(t,o,n)}selectRootElement(t,o){return this.delegate.selectRootElement(t,o)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,o,n,r){this.delegate.setAttribute(t,o,n,r)}removeAttribute(t,o,n){this.delegate.removeAttribute(t,o,n)}addClass(t,o){this.delegate.addClass(t,o)}removeClass(t,o){this.delegate.removeClass(t,o)}setStyle(t,o,n,r){this.delegate.setStyle(t,o,n,r)}removeStyle(t,o,n){this.delegate.removeStyle(t,o,n)}setProperty(t,o,n){this.shouldReplay(o)&&this.replay.push(r=>r.setProperty(t,o,n)),this.delegate.setProperty(t,o,n)}setValue(t,o){this.delegate.setValue(t,o)}listen(t,o,n){return this.shouldReplay(o)&&this.replay.push(r=>r.listen(t,o,n)),this.delegate.listen(t,o,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(dr)}};function yn(e="animations"){return $e("NgAsyncAnimations"),H([{provide:Be,useFactory:(t,o,n)=>new pr(t,o,n,e),deps:[Ge,He,Z]},{provide:Ne,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var dt="Service workers are disabled or not supported by this browser";function lr(e){return mt(()=>ge(new Error(e)))}var et=class{constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=lr(dt);else{let n=Bt(t,"controllerchange").pipe(S(()=>t.controller)),r=mt(()=>K(t.controller)),i=Ee(r,n);this.worker=i.pipe(R(u=>!!u)),this.registration=this.worker.pipe(C(()=>t.getRegistration()));let d=Bt(t,"message").pipe(S(u=>u.data)).pipe(R(u=>u&&u.type)).pipe(Te());d.connect(),this.events=d}}postMessage(t,o){return this.worker.pipe(D(1),at(n=>{n.postMessage(f({action:t},o))})).toPromise().then(()=>{})}postMessageWithOperation(t,o,n){let r=this.waitForOperationCompleted(n),i=this.postMessage(t,o);return Promise.all([i,r]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let o;return typeof t=="string"?o=n=>n.type===t:o=n=>t.includes(n.type),this.events.pipe(R(o))}nextEventOfType(t){return this.eventsOfType(t).pipe(D(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(R(o=>o.nonce===t),D(1),S(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},hr=(()=>{let t=class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new gt,!n.isEnabled){this.messages=q,this.notificationClicks=q,this.subscription=q;return}this.messages=this.sw.eventsOfType("PUSH").pipe(S(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(S(i=>i.data)),this.pushManager=this.sw.registration.pipe(S(i=>i.pushManager));let r=this.pushManager.pipe(C(i=>i.getSubscription()));this.subscription=U(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(dt));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return r.applicationServerKey=s,this.pushManager.pipe(C(a=>a.subscribe(r)),D(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));let n=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(D(1),C(n)).toPromise()}decodeBase64(n){return atob(n)}};t.\u0275fac=function(r){return new(r||t)(T(et))},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})(),gr=(()=>{let t=class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=q,this.unrecoverable=q;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}};t.\u0275fac=function(r){return new(r||t)(T(et))},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var Sn=new M("");function mr(e,t,o,n){return()=>{if(!(zt(n)&&"serviceWorker"in navigator&&o.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let r;if(typeof o.registrationStrategy=="function")r=o.registrationStrategy();else{let[s,...a]=(o.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=K(null);break;case"registerWithDelay":r=vn(+a[0]||0);break;case"registerWhenStable":r=a[0]?U(bn(e),vn(+a[0])):bn(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${o.registrationStrategy}`)}}e.get(Z).runOutsideAngular(()=>r.pipe(D(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:o.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function vn(e){return K(null).pipe(ve(e))}function bn(e){return e.get(Ve).isStable.pipe(R(o=>o))}function Er(e,t){return new et(zt(t)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var ft=class{};function Tn(e,t={}){return H([hr,gr,{provide:Sn,useValue:e},{provide:ft,useValue:t},{provide:et,useFactory:Er,deps:[ft,Ut]},{provide:_e,useFactory:mr,deps:[Pe,Sn,ft,Ut],multi:!0}])}var Sr={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},wt="__@ngrx/effects_create__";function j(e,t={}){let o=t.functional?e:e(),n=f(f({},Sr),t);return Object.defineProperty(o,wt,{value:n}),o}function vr(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(wt)?e[n][wt].hasOwnProperty("dispatch"):!1).map(n=>{let r=e[n][wt];return f({propertyName:n},r)})}function br(e){return vr(e)}function On(e){return Object.getPrototypeOf(e)}function Ar(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function wn(e){return typeof e=="function"}function Ir(e){return e.filter(wn)}function Tr(e,t,o){let n=On(e),i=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=br(e).map(({propertyName:a,dispatch:b,useEffectsErrorHandler:d})=>{let u=typeof e[a]=="function"?e[a]():e[a],c=d?o(u,t):u;return b===!1?c.pipe(Se()):c.pipe(Ie()).pipe(S(k=>({effect:e[a],notification:k,propertyName:a,sourceName:i,sourceInstance:e})))});return U(...s)}var Or=10;function Cn(e,t,o=Or){return e.pipe(Et(n=>(t&&t.handleError(n),o<=1?e:Cn(e,t,o-1))))}var nt=(()=>{let t=class t extends it{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}};t.\u0275fac=function(r){return new(r||t)(T(It))},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function P(...e){return R(t=>e.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var Zo=new M("@ngrx/effects Internal Root Guard"),Yo=new M("@ngrx/effects User Provided Effects"),Xo=new M("@ngrx/effects Internal Root Effects"),Jo=new M("@ngrx/effects Internal Root Effects Instances"),Qo=new M("@ngrx/effects Internal Feature Effects"),ti=new M("@ngrx/effects Internal Feature Effects Instance Groups"),wr=new M("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Cn}),Cr="@ngrx/effects/init",xr=bt(Cr);function Rr(e,t){if(e.notification.kind==="N"){let o=e.notification.value;!kr(o)&&t.handleError(new Error(`Effect ${Mr(e)} dispatched an invalid action: ${Fr(o)}`))}}function kr(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Mr({propertyName:e,sourceInstance:t,sourceName:o}){let n=typeof t[e]=="function";return!!o?`"${o}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function Fr(e){try{return JSON.stringify(e)}catch{return e}}var jr="ngrxOnIdentifyEffects";function Pr(e){return Zt(e,jr)}var Nr="ngrxOnRunEffects";function Dr(e){return Zt(e,Nr)}var Lr="ngrxOnInitEffects";function Br(e){return Zt(e,Lr)}function Zt(e,t){return e&&t in e&&typeof e[t]=="function"}var xn=(()=>{let t=class t extends gt{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe($t(n=>Ar(n)?On(n):n),Lt(n=>n.pipe($t($r))),Lt(n=>{let r=n.pipe(Ae(s=>Ur(this.errorHandler,this.effectsErrorHandler)(s)),S(s=>(Rr(s,this.errorHandler),s.notification)),R(s=>s.kind==="N"&&s.value!=null),be()),i=n.pipe(D(1),R(Br),S(s=>s.ngrxOnInitEffects()));return U(r,i)}))}};t.\u0275fac=function(r){return new(r||t)(T(St),T(wr))},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $r(e){return Pr(e)?e.ngrxOnIdentifyEffects():""}function Ur(e,t){return o=>{let n=Tr(o,e,t);return Dr(o)?o.ngrxOnRunEffects(n):n}}var _r=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(T(xn),T(X))},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ct(...e){let t=e.flat(),o=Ir(t);return H([o,{provide:ke,multi:!0,useValue:()=>{l(en),l(nn,{optional:!0});let n=l(_r),r=l(xn),i=!n.isStarted;i&&n.start();for(let s of t){let a=wn(s)?l(s):s;r.addEffects(a)}i&&l(X).dispatch(xr())}}])}var lt="PERFORM_ACTION",Vr="REFRESH",Pn="RESET",Nn="ROLLBACK",Dn="COMMIT",Ln="SWEEP",Bn="TOGGLE_ACTION",Gr="SET_ACTIONS_ACTIVE",$n="JUMP_TO_STATE",Un="JUMP_TO_ACTION",ce="IMPORT_STATE",_n="LOCK_CHANGES",Vn="PAUSE_RECORDING",rt=class{constructor(t,o){if(this.action=t,this.timestamp=o,this.type=lt,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Yt=class{constructor(){this.type=Vr}},Xt=class{constructor(t){this.timestamp=t,this.type=Pn}},Jt=class{constructor(t){this.timestamp=t,this.type=Nn}},Qt=class{constructor(t){this.timestamp=t,this.type=Dn}},te=class{constructor(){this.type=Ln}},ee=class{constructor(t){this.id=t,this.type=Bn}};var ne=class{constructor(t){this.index=t,this.type=$n}},re=class{constructor(t){this.actionId=t,this.type=Un}},oe=class{constructor(t){this.nextLiftedState=t,this.type=ce}},ie=class{constructor(t){this.status=t,this.type=_n}},se=class{constructor(t){this.status=t,this.type=Vn}};var Mt=new M("@ngrx/store-devtools Options"),Rn=new M("@ngrx/store-devtools Initial Config");function Gn(){return null}var zr="NgRx Store DevTools";function Hr(e){let t={maxAge:!1,monitor:Gn,actionSanitizer:void 0,stateSanitizer:void 0,name:zr,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},o=typeof e=="function"?e():e,n=o.logOnly?{pause:!0,export:!0,test:!0}:!1,r=o.features||n||t.features;r.import===!0&&(r.import="custom");let i=Object.assign({},t,{features:r},o);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function kn(e,t){return e.filter(o=>t.indexOf(o)<0)}function zn(e){let{computedStates:t,currentStateIndex:o}=e;if(o>=t.length){let{state:r}=t[t.length-1];return r}let{state:n}=t[o];return n}function pt(e){return new rt(e,+Date.now())}function Kr(e,t){return Object.keys(t).reduce((o,n)=>{let r=Number(n);return o[r]=Hn(e,t[r],r),o},{})}function Hn(e,t,o){return E(f({},t),{action:e(t.action,o)})}function Wr(e,t){return t.map((o,n)=>({state:Kn(e,o.state,n),error:o.error}))}function Kn(e,t,o){return e(t,o)}function Wn(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function qr(e,t,o,n){let r=[],i={},s=[];return e.stagedActionIds.forEach((a,b)=>{let d=e.actionsById[a];d&&(b&&ue(e.computedStates[b],d,t,o,n)||(i[a]=d,r.push(a),s.push(e.computedStates[b])))}),E(f({},e),{stagedActionIds:r,actionsById:i,computedStates:s})}function ue(e,t,o,n,r){let i=o&&!o(e,t.action),s=n&&!t.action.type.match(n.map(b=>Mn(b)).join("|")),a=r&&t.action.type.match(r.map(b=>Mn(b)).join("|"));return i||s||a}function Mn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qn(e){return{ngZone:e?l(Z):null,connectInZone:e}}var Ft=(()=>{let t=class t extends At{};t.\u0275fac=(()=>{let n;return function(i){return(n||(n=je(t)))(i||t)}})(),t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})(),xt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},ae=new M("@ngrx/store-devtools Redux Devtools Extension"),Zn=(()=>{let t=class t{constructor(n,r,i){this.config=r,this.dispatcher=i,this.zoneConfig=qn(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,r){if(this.devtoolsExtension)if(n.type===lt){if(r.isLocked||r.isPaused)return;let i=zn(r);if(Wn(this.config)&&ue(i,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?Kn(this.config.stateSanitizer,i,r.currentStateIndex):i,a=this.config.actionSanitizer?Hn(this.config.actionSanitizer,n,r.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,s))}else{let i=E(f({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?Kr(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?Wr(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new it(n=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(i=>n.next(i)),r.unsubscribe}):le}createActionStreams(){let n=this.createChangesObservable().pipe(we()),r=n.pipe(R(u=>u.type===xt.START)),i=n.pipe(R(u=>u.type===xt.STOP)),s=n.pipe(R(u=>u.type===xt.DISPATCH),S(u=>this.unwrapAction(u.payload)),st(u=>u.type===ce?this.dispatcher.pipe(R(c=>c.type===Kt),me(1e3),ye(1e3),S(()=>u),Et(()=>K(u)),D(1)):K(u))),b=n.pipe(R(u=>u.type===xt.ACTION),S(u=>this.unwrapAction(u.payload))).pipe(yt(i)),d=s.pipe(yt(i));this.start$=r.pipe(yt(i)),this.actions$=this.start$.pipe(C(()=>b)),this.liftedActions$=this.start$.pipe(C(()=>d))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let r={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(r.maxAge=n.maxAge),r}sendToReduxDevtools(n){try{n()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}};t.\u0275fac=function(r){return new(r||t)(T(ae),T(Mt),T(Ft))},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})(),kt={type:Ht},Zr="@ngrx/store-devtools/recompute",Yr={type:Zr};function Yn(e,t,o,n,r){if(n)return{state:o,error:"Interrupted by an error up the chain"};let i=o,s;try{i=e(o,t)}catch(a){s=a.toString(),r.handleError(a)}return{state:i,error:s}}function Rt(e,t,o,n,r,i,s,a,b){if(t>=e.length&&e.length===i.length)return e;let d=e.slice(0,t),u=i.length-(b?1:0);for(let c=t;c<u;c++){let g=i[c],k=r[g].action,h=d[c-1],p=h?h.state:n,L=h?h.error:void 0,B=s.indexOf(g)>-1?h:Yn(o,k,p,L,a);d.push(B)}return b&&d.push(e[e.length-1]),d}function Xr(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:pt(kt)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Jr(e,t,o,n,r={}){return i=>(s,a)=>{let{monitorState:b,actionsById:d,nextActionId:u,stagedActionIds:c,skippedActionIds:g,committedState:k,currentStateIndex:h,computedStates:p,isLocked:L,isPaused:F}=s||t;s||(d=Object.create(d));function B(w){let y=w,z=c.slice(1,y+1);for(let N=0;N<z.length;N++)if(p[N+1].error){y=N,z=c.slice(1,y+1);break}else delete d[z[N]];g=g.filter(N=>z.indexOf(N)===-1),c=[0,...c.slice(y+1)],k=p[y].state,p=p.slice(y),h=h>y?h-y:0}function W(){d={0:pt(kt)},u=1,c=[0],g=[],k=p[h].state,h=0,p=[]}let m=0;switch(a.type){case _n:{L=a.status,m=1/0;break}case Vn:{F=a.status,F?(c=[...c,u],d[u]=new rt({type:"@ngrx/devtools/pause"},+Date.now()),u++,m=c.length-1,p=p.concat(p[p.length-1]),h===c.length-2&&h++,m=1/0):W();break}case Pn:{d={0:pt(kt)},u=1,c=[0],g=[],k=e,h=0,p=[];break}case Dn:{W();break}case Nn:{d={0:pt(kt)},u=1,c=[0],g=[],h=0,p=[];break}case Bn:{let{id:w}=a;g.indexOf(w)===-1?g=[w,...g]:g=g.filter(z=>z!==w),m=c.indexOf(w);break}case Gr:{let{start:w,end:y,active:z}=a,N=[];for(let Dt=w;Dt<y;Dt++)N.push(Dt);z?g=kn(g,N):g=[...g,...N],m=c.indexOf(w);break}case $n:{h=a.index,m=1/0;break}case Un:{let w=c.indexOf(a.actionId);w!==-1&&(h=w),m=1/0;break}case Ln:{c=kn(c,g),g=[],h=Math.min(h,c.length-1);break}case lt:{if(L)return s||t;if(F||s&&ue(s.computedStates[h],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let y=p[p.length-1];p=[...p.slice(0,-1),Yn(i,a.action,y.state,y.error,o)],m=1/0;break}r.maxAge&&c.length===r.maxAge&&B(1),h===c.length-1&&h++;let w=u++;d[w]=a,c=[...c,w],m=c.length-1;break}case ce:{({monitorState:b,actionsById:d,nextActionId:u,stagedActionIds:c,skippedActionIds:g,committedState:k,currentStateIndex:h,computedStates:p,isLocked:L,isPaused:F}=a.nextLiftedState);break}case Ht:{m=0,r.maxAge&&c.length>r.maxAge&&(p=Rt(p,m,i,k,d,c,g,o,F),B(c.length-r.maxAge),m=1/0);break}case Kt:{if(p.filter(y=>y.error).length>0)m=0,r.maxAge&&c.length>r.maxAge&&(p=Rt(p,m,i,k,d,c,g,o,F),B(c.length-r.maxAge),m=1/0);else{if(!F&&!L){h===c.length-1&&h++;let y=u++;d[y]=new rt(a,+Date.now()),c=[...c,y],m=c.length-1,p=Rt(p,m,i,k,d,c,g,o,F)}p=p.map(y=>E(f({},y),{state:i(y.state,Yr)})),h=c.length-1,r.maxAge&&c.length>r.maxAge&&B(c.length-r.maxAge),m=1/0}break}default:{m=1/0;break}}return p=Rt(p,m,i,k,d,c,g,o,F),b=n(b,a),{monitorState:b,actionsById:d,nextActionId:u,stagedActionIds:c,skippedActionIds:g,committedState:k,currentStateIndex:h,computedStates:p,isLocked:L,isPaused:F}}}var Fn=(()=>{let t=class t{constructor(n,r,i,s,a,b,d,u){let c=Xr(d,u.monitor),g=Jr(d,c,b,u.monitor,u),k=U(U(r.asObservable().pipe(Ce(1)),s.actions$).pipe(S(pt)),n,s.liftedActions$).pipe(he(pe)),h=i.pipe(S(g)),p=qn(u.connectInZone),L=new de(1);this.liftedStateSubscription=k.pipe(xe(h),jn(p),Oe(({state:W},[m,w])=>{let y=w(W,m);return m.type!==lt&&Wn(u)&&(y=qr(y,u.predicate,u.actionsSafelist,u.actionsBlocklist)),s.notify(m,y),{state:y,action:m}},{state:c,action:null})).subscribe(({state:W,action:m})=>{if(L.next(W),m.type===lt){let w=m.action;a.next(w)}}),this.extensionStartSubscription=s.start$.pipe(jn(p)).subscribe(()=>{this.refresh()});let F=L.asObservable(),B=F.pipe(S(zn));Object.defineProperty(B,"state",{value:Qe(B,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=F,this.state=B}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new rt(n,+Date.now()))}refresh(){this.dispatch(new Yt)}reset(){this.dispatch(new Xt(+Date.now()))}rollback(){this.dispatch(new Jt(+Date.now()))}commit(){this.dispatch(new Qt(+Date.now()))}sweep(){this.dispatch(new te)}toggleAction(n){this.dispatch(new ee(n))}jumpToAction(n){this.dispatch(new re(n))}jumpToState(n){this.dispatch(new ne(n))}importState(n){this.dispatch(new oe(n))}lockChanges(n){this.dispatch(new ie(n))}pauseRecording(n){this.dispatch(new se(n))}};t.\u0275fac=function(r){return new(r||t)(T(Ft),T(At),T(rn),T(Zn),T(It),T(St),T(tn),T(Mt))},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();function jn({ngZone:e,connectInZone:t}){return o=>t?new it(n=>o.subscribe({next:r=>e.run(()=>n.next(r)),error:r=>e.run(()=>n.error(r)),complete:()=>e.run(()=>n.complete())})):o}var Qr=new M("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function to(e,t){return!!e||t.monitor!==Gn}function eo(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Xn(e={}){return H([Zn,Ft,Fn,{provide:Rn,useValue:e},{provide:Qr,deps:[ae,Mt],useFactory:to},{provide:ae,useFactory:eo},{provide:Mt,deps:[Rn],useFactory:Hr},{provide:sn,deps:[Fn],useFactory:no},{provide:on,useExisting:Ft}])}function no(e){return e.state}var Jn=[{provide:qe,useClass:dn}],Qn=[{provide:mn,useValue:{hideSingleSelectionIndicator:!0}},{provide:gn,useValue:{hideSingleSelectionIndicator:!0}},{provide:hn,useValue:{subscriptSizing:"dynamic"}}],tr=[];var er=[{path:"",redirectTo:Q.Books,pathMatch:"full"},{path:Q.Books,loadChildren:()=>import("./chunk-ENBGOBMK.js")},{path:Q.Book,loadChildren:()=>import("./chunk-7OUZY3W5.js")},{path:Q.NotFound,loadChildren:()=>import("./chunk-CFO4DI2K.js")},{path:"**",redirectTo:Q.NotFound,pathMatch:"full"}];var jt=(()=>{let t=class t{constructor(){this.httpClient=l(Y)}getAuthors(){return this.httpClient.get(`${_}/authors.json`).pipe(S(n=>n??[]))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var nr=(()=>{let t=class t{constructor(){this.actions$=l(nt),this.authorsApiService=l(jt),this.getAuthors$=j(()=>this.actions$.pipe(P(G.getAuthors.requested),C(()=>this.authorsApiService.getAuthors().pipe(V(G.getAuthors)))))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var fe={authors:[],authorsLoadingStatus:I.loading},ro=J(fe,A(G.getAuthors.requested,e=>E(f({},e),{authors:fe.authors,authorsLoadingStatus:I.loading})),A(G.getAuthors.succeeded,(e,t)=>E(f({},e),{authors:t.payload,authorsLoadingStatus:I.loaded})),A(G.getAuthors.failed,e=>E(f({},e),{authors:fe.authors,authorsLoadingStatus:I.loaded})));function rr(e,t){return ro(e,t)}var Pt=(()=>{let t=class t{constructor(){this.httpClient=l(Y)}getBooks(){return this.httpClient.get(`${_}/books.json`).pipe(S(n=>Object.values(n)??[]))}addBook(n){return this.httpClient.put(`${_}/books/${n.id}.json`,n)}getBook(n){return this.httpClient.get(`${_}/books/${n}.json`)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var or=(()=>{let t=class t{constructor(){this.actions$=l(nt),this.booksApiService=l(Pt),this.getBooks$=j(()=>this.actions$.pipe(P(O.getBooks.requested),C(()=>this.booksApiService.getBooks().pipe(V(O.getBooks))))),this.addBook$=j(()=>this.actions$.pipe(P(O.addBook.requested),C(n=>this.booksApiService.addBook(n.payload).pipe(V(O.addBook))))),this.addBookSucceeded$=j(()=>this.actions$.pipe(P(O.addBook.succeeded),at(()=>{Wt.success({message:"New book has been successfully added"})})),{dispatch:!1}),this.addBookFailed$=j(()=>this.actions$.pipe(P(O.addBook.failed),at(()=>{Wt.error({message:"New book has not been added"})})),{dispatch:!1}),this.getBook$=j(()=>this.actions$.pipe(P(O.getBook.requested),C(n=>this.booksApiService.getBook(n.payload).pipe(V(O.getBook)))))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var ot={books:[],booksLoadingStatus:I.loading,book:null,bookLoadingStatus:I.loading,sort:null,filters:null,searchQuery:""},oo=J(ot,A(O.getBooks.requested,e=>E(f({},e),{books:ot.books,booksLoadingStatus:I.loading})),A(O.getBooks.succeeded,(e,t)=>E(f({},e),{books:t.payload,booksLoadingStatus:I.loaded})),A(O.getBooks.failed,e=>E(f({},e),{books:ot.books,booksLoadingStatus:I.loaded})),A(O.addBook.succeeded,(e,t)=>E(f({},e),{books:e.books.concat(t.payload)})),A(O.getBook.requested,e=>E(f({},e),{book:ot.book,bookLoadingStatus:I.loading})),A(O.getBook.succeeded,(e,t)=>E(f({},e),{book:t.payload,bookLoadingStatus:I.loaded})),A(O.getBook.failed,e=>E(f({},e),{book:ot.book,bookLoadingStatus:I.loaded})),A(O.setSort,(e,t)=>E(f({},e),{sort:t.payload})),A(O.setSearchQuery,(e,t)=>E(f({},e),{searchQuery:t.payload})),A(O.changeFilter,(e,t)=>E(f({},e),{filters:f(f({},e.filters),t.payload)})),A(O.destroyPage,e=>f(f({},e),ot)));function ir(e,t){return oo(e,t)}var Nt=(()=>{let t=class t{constructor(){this.httpClient=l(Y)}getLanguages(){return this.httpClient.get(`${_}/languages.json`).pipe(S(n=>n??fn))}getGenres(){return this.httpClient.get(`${_}/genres.json`).pipe(S(n=>n??un))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var sr=(()=>{let t=class t{constructor(){this.actions$=l(nt),this.commonApiService=l(Nt),this.initApp$=j(()=>this.actions$.pipe(P(x.initApp),st(()=>[x.getGenres.requested(),x.getLanguages.requested()]))),this.getGenres$=j(()=>this.actions$.pipe(P(x.getGenres.requested),C(()=>this.commonApiService.getGenres().pipe(V(x.getGenres))))),this.getLanguages$=j(()=>this.actions$.pipe(P(x.getLanguages.requested),C(()=>this.commonApiService.getLanguages().pipe(V(x.getLanguages)))))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var ht={genres:[],genresLoadingStatus:I.loading,languages:[],languagesLoadingStatus:I.loading},io=J(ht,A(x.getGenres.requested,e=>E(f({},e),{genres:ht.genres,genresLoadingStatus:I.loading})),A(x.getGenres.succeeded,(e,t)=>E(f({},e),{genres:t.payload,genresLoadingStatus:I.loaded})),A(x.getGenres.failed,e=>E(f({},e),{genres:ht.genres,genresLoadingStatus:I.loaded})),A(x.getLanguages.requested,e=>E(f({},e),{languages:ht.languages,languagesLoadingStatus:I.loading})),A(x.getLanguages.succeeded,(e,t)=>E(f({},e),{languages:t.payload,languagesLoadingStatus:I.loaded})),A(x.getLanguages.failed,e=>E(f({},e),{languages:ht.languages,languagesLoadingStatus:I.loaded})));function ar(e,t){return io(e,t)}var cr={providers:[Tt(ln,ir),Tt(tt,ar),Tt(Ot,rr),Ct([or,sr,nr]),Pt,Nt,jt]};var so={onViewTransitionCreated:e=>{let t=l(Ze),o=t.getCurrentNavigation()?.finalUrl??"",n={paths:"exact",matrixParams:"exact",fragment:"ignored",queryParams:"ignored"};t.isActive(o,n)&&e.transition.skipTransition()}},ao=[],ur={providers:[Ye(er,Xe(),Je(so)),yn(),ze(),Tn("ngsw-worker.js",{enabled:!Gt(),registrationStrategy:"registerWhenStable:30000"}),an(),Ct([]),Gt()?Xn():[],Fe(ao),...cr.providers,...Jn,...Qn,...tr]};Ke(En,ur).catch(e=>console.error(e));
