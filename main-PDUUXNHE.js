import{a as x}from"./chunk-CXUO3N67.js";import{a as hr,e as gr}from"./chunk-AK7OCO5Q.js";import{I as lr}from"./chunk-U7ISBZH6.js";import"./chunk-JGYM447R.js";import{a as T}from"./chunk-LFFQQ3P7.js";import{b as Je,c as vt,d as Vt,e as zt,f as At,g as Qe,h as tr,i as er,ia as Z,j as rr,ja as sr,k as nr,ka as L,l as Ht,la as ar,m as bt,ma as cr,n as or,na as I,o as tt,pa as ur,qa as K,r as It,ra as dr,s as ir,sa as qt,t as A,u as et,ua as B,va as pr,wa as fr,xa as rt}from"./chunk-BRQE4MZL.js";import{a as Q,b as Ve,c as ze,d as He,g as qe,h as Ke,i as We,l as Ze,m as Ye,n as Xe}from"./chunk-EIGY46AT.js";import{d as Ge,m as Gt}from"./chunk-PK5D3EGC.js";import{$ as w,A as X,B as F,D as mt,E as ct,F as Ee,Ga as Fe,H as $,I as ye,Ia as Pe,Ja as yt,K as Se,Kb as Bt,L as ve,Lb as _t,Mb as St,N as Ae,Q as $t,T as be,Ta as Lt,Ua as je,V as Ie,W as Oe,X as Te,Z as Ce,aa as Et,bc as Be,c as at,ca as G,da as we,ea as xe,f as ht,ga as v,h as de,i as pe,ib as Ne,j as fe,ja as j,jc as _e,k as le,kb as De,la as O,lc as Ue,m as W,ma as h,mb as $e,n as he,nc as Ut,oa as Re,ob as Le,pb as J,q as ge,r as S,ra as ke,t as Nt,v as me,va as q,w as gt,wa as Me,y as Dt,z}from"./chunk-5G7GW4F7.js";import{a as d,b as l}from"./chunk-55KE2TB7.js";var dn=e=>dr(rt.toUpperCase(),e),M={initApp:vt(dn("Init App")),getGenres:qt(rt.toUpperCase(),"Get genres",Vt()),getLanguages:qt(rt.toUpperCase(),"Get languages",Vt())};var mr=(()=>{let t=class t{constructor(){this.store=h(tt)}ngOnInit(){this.store.dispatch(M.initApp()),this.store.dispatch(x.getAuthors.requested())}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ke({type:t,selectors:[["app-root"]],standalone:!0,features:[Be],decls:5,vars:0,consts:[[1,"header"],[1,"main"],[1,"footer"]],template:function(n,i){n&1&&(Bt(0,"header",0),St(1,"toolbar"),_t(),Bt(2,"main",1),St(3,"router-outlet"),_t(),St(4,"footer",2))},dependencies:[qe,sr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:0;height:100%;width:100%}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--margin-xs);box-sizing:border-box;flex:1;height:0;padding:var(--padding)}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]  not-found-container, [_nghost-%COMP%]   .main[_ngcontent-%COMP%]  books-container, [_nghost-%COMP%]   .main[_ngcontent-%COMP%]  authors-container{display:flex;flex-direction:column;gap:var(--margin-xs);flex:1;height:0}"]});let e=t;return e})();var pn="@",fn=(()=>{let t=class t{constructor(r,n,i,s,a){this.doc=r,this.delegate=n,this.zone=i,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=h(De,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-WMT4PJGP.js")).catch(n=>{throw new xe(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:i})=>{this._engine=n(this.animationType,this.doc,this.scheduler);let s=new i(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(r,n){let i=this.delegate.createRenderer(r,n);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new Kt(i);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let b=a.createRenderer(r,n);s.use(b)}).catch(a=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(n){Ne()},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})(),Kt=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let o of this.replay)o(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,o){return this.delegate.createElement(t,o)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,o){this.delegate.appendChild(t,o)}insertBefore(t,o,r,n){this.delegate.insertBefore(t,o,r,n)}removeChild(t,o,r){this.delegate.removeChild(t,o,r)}selectRootElement(t,o){return this.delegate.selectRootElement(t,o)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,o,r,n){this.delegate.setAttribute(t,o,r,n)}removeAttribute(t,o,r){this.delegate.removeAttribute(t,o,r)}addClass(t,o){this.delegate.addClass(t,o)}removeClass(t,o){this.delegate.removeClass(t,o)}setStyle(t,o,r,n){this.delegate.setStyle(t,o,r,n)}removeStyle(t,o,r){this.delegate.removeStyle(t,o,r)}setProperty(t,o,r){this.shouldReplay(o)&&this.replay.push(n=>n.setProperty(t,o,r)),this.delegate.setProperty(t,o,r)}setValue(t,o){this.delegate.setValue(t,o)}listen(t,o,r){return this.shouldReplay(o)&&this.replay.push(n=>n.listen(t,o,r)),this.delegate.listen(t,o,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(pn)}};function Er(e="animations"){return Le("NgAsyncAnimations"),q([{provide:$e,useFactory:(t,o,r)=>new fn(t,o,r,e),deps:[Ge,ze,J]},{provide:je,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var dt="Service workers are disabled or not supported by this browser";function ln(e){return gt(()=>he(new Error(e)))}var nt=class{constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=ln(dt);else{let r=Dt(t,"controllerchange").pipe(S(()=>t.controller)),n=gt(()=>W(t.controller)),i=me(n,r);this.worker=i.pipe(F(u=>!!u)),this.registration=this.worker.pipe(w(()=>t.getRegistration()));let p=Dt(t,"message").pipe(S(u=>u.data)).pipe(F(u=>u&&u.type)).pipe(Ie());p.connect(),this.events=p}}postMessage(t,o){return this.worker.pipe($(1),G(r=>{r.postMessage(d({action:t},o))})).toPromise().then(()=>{})}postMessageWithOperation(t,o,r){let n=this.waitForOperationCompleted(r),i=this.postMessage(t,o);return Promise.all([i,n]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let o;return typeof t=="string"?o=r=>r.type===t:o=r=>t.includes(r.type),this.events.pipe(F(o))}nextEventOfType(t){return this.eventsOfType(t).pipe($(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(F(o=>o.nonce===t),$(1),S(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},hn=(()=>{let t=class t{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new ht,!r.isEnabled){this.messages=X,this.notificationClicks=X,this.subscription=X;return}this.messages=this.sw.eventsOfType("PUSH").pipe(S(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(S(i=>i.data)),this.pushManager=this.sw.registration.pipe(S(i=>i.pushManager));let n=this.pushManager.pipe(w(i=>i.getSubscription()));this.subscription=z(n,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(dt));let n={userVisibleOnly:!0},i=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return n.applicationServerKey=s,this.pushManager.pipe(w(a=>a.subscribe(n)),$(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));let r=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe($(1),w(r)).toPromise()}decodeBase64(r){return atob(r)}};t.\u0275fac=function(n){return new(n||t)(O(nt))},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})(),gn=(()=>{let t=class t{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=X,this.unrecoverable=X;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};t.\u0275fac=function(n){return new(n||t)(O(nt))},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var yr=new j("");function mn(e,t,o,r){return()=>{if(!(Gt(r)&&"serviceWorker"in navigator&&o.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let n;if(typeof o.registrationStrategy=="function")n=o.registrationStrategy();else{let[s,...a]=(o.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":n=W(null);break;case"registerWithDelay":n=Sr(+a[0]||0);break;case"registerWhenStable":n=a[0]?z(vr(e),Sr(+a[0])):vr(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${o.registrationStrategy}`)}}e.get(J).runOutsideAngular(()=>n.pipe($(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:o.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function Sr(e){return W(null).pipe(Se(e))}function vr(e){return e.get(Ue).isStable.pipe(F(o=>o))}function En(e,t){return new nt(Gt(t)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var ut=class{};function Ir(e,t={}){return q([hn,gn,{provide:yr,useValue:e},{provide:ut,useValue:t},{provide:nt,useFactory:En,deps:[ut,Lt]},{provide:_e,useFactory:mn,deps:[Pe,yr,ut,Lt],multi:!0}])}var Sn={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Ot="__@ngrx/effects_create__";function R(e,t={}){let o=t.functional?e:e(),r=d(d({},Sn),t);return Object.defineProperty(o,Ot,{value:r}),o}function vn(e){return Object.getOwnPropertyNames(e).filter(r=>e[r]&&e[r].hasOwnProperty(Ot)?e[r][Ot].hasOwnProperty("dispatch"):!1).map(r=>{let n=e[r][Ot];return d({propertyName:r},n)})}function An(e){return vn(e)}function Or(e){return Object.getPrototypeOf(e)}function bn(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function Tr(e){return typeof e=="function"}function In(e){return e.filter(Tr)}function On(e,t,o){let r=Or(e),i=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=An(e).map(({propertyName:a,dispatch:b,useEffectsErrorHandler:p})=>{let u=typeof e[a]=="function"?e[a]():e[a],c=p?o(u,t):u;return b===!1?c.pipe(ye()):c.pipe(be()).pipe(S(P=>({effect:e[a],notification:P,propertyName:a,sourceName:i,sourceInstance:e})))});return z(...s)}var Tn=10;function Cr(e,t,o=Tn){return e.pipe(mt(r=>(t&&t.handleError(r),o<=1?e:Cr(e,t,o-1))))}var ot=(()=>{let t=class t extends at{constructor(r){super(),r&&(this.source=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}};t.\u0275fac=function(n){return new(n||t)(O(bt))},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function k(...e){return F(t=>e.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var Ho=new j("@ngrx/effects Internal Root Guard"),qo=new j("@ngrx/effects User Provided Effects"),Ko=new j("@ngrx/effects Internal Root Effects"),Wo=new j("@ngrx/effects Internal Root Effects Instances"),Zo=new j("@ngrx/effects Internal Feature Effects"),Yo=new j("@ngrx/effects Internal Feature Effects Instance Groups"),Cn=new j("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Cr}),wn="@ngrx/effects/init",xn=vt(wn);function Rn(e,t){if(e.notification.kind==="N"){let o=e.notification.value;!kn(o)&&t.handleError(new Error(`Effect ${Mn(e)} dispatched an invalid action: ${Fn(o)}`))}}function kn(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Mn({propertyName:e,sourceInstance:t,sourceName:o}){let r=typeof t[e]=="function";return!!o?`"${o}.${String(e)}${r?"()":""}"`:`"${String(e)}()"`}function Fn(e){try{return JSON.stringify(e)}catch{return e}}var Pn="ngrxOnIdentifyEffects";function jn(e){return Wt(e,Pn)}var Nn="ngrxOnRunEffects";function Dn(e){return Wt(e,Nn)}var $n="ngrxOnInitEffects";function Ln(e){return Wt(e,$n)}function Wt(e,t){return e&&t in e&&typeof e[t]=="function"}var wr=(()=>{let t=class t extends ht{constructor(r,n){super(),this.errorHandler=r,this.effectsErrorHandler=n}addEffects(r){this.next(r)}toActions(){return this.pipe($t(r=>bn(r)?Or(r):r),Nt(r=>r.pipe($t(Bn))),Nt(r=>{let n=r.pipe(Ae(s=>_n(this.errorHandler,this.effectsErrorHandler)(s)),S(s=>(Rn(s,this.errorHandler),s.notification)),F(s=>s.kind==="N"&&s.value!=null),ve()),i=r.pipe($(1),F(Ln),S(s=>s.ngrxOnInitEffects()));return z(n,i)}))}};t.\u0275fac=function(n){return new(n||t)(O(yt),O(Cn))},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Bn(e){return jn(e)?e.ngrxOnIdentifyEffects():""}function _n(e,t){return o=>{let r=On(o,e,t);return Dn(o)?o.ngrxOnRunEffects(r):r}}var Un=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(r,n){this.effectSources=r,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(O(wr),O(tt))},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Tt(...e){let t=e.flat(),o=In(t);return q([o,{provide:Re,multi:!0,useValue:()=>{h(tr),h(er,{optional:!0});let r=h(Un),n=h(wr),i=!r.isStarted;i&&r.start();for(let s of t){let a=Tr(s)?h(s):s;n.addEffects(a)}i&&h(tt).dispatch(xn())}}])}var ft="PERFORM_ACTION",Gn="REFRESH",Pr="RESET",jr="ROLLBACK",Nr="COMMIT",Dr="SWEEP",$r="TOGGLE_ACTION",Vn="SET_ACTIONS_ACTIVE",Lr="JUMP_TO_STATE",Br="JUMP_TO_ACTION",ae="IMPORT_STATE",_r="LOCK_CHANGES",Ur="PAUSE_RECORDING",it=class{constructor(t,o){if(this.action=t,this.timestamp=o,this.type=ft,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Zt=class{constructor(){this.type=Gn}},Yt=class{constructor(t){this.timestamp=t,this.type=Pr}},Xt=class{constructor(t){this.timestamp=t,this.type=jr}},Jt=class{constructor(t){this.timestamp=t,this.type=Nr}},Qt=class{constructor(){this.type=Dr}},te=class{constructor(t){this.id=t,this.type=$r}};var ee=class{constructor(t){this.index=t,this.type=Lr}},re=class{constructor(t){this.actionId=t,this.type=Br}},ne=class{constructor(t){this.nextLiftedState=t,this.type=ae}},oe=class{constructor(t){this.status=t,this.type=_r}},ie=class{constructor(t){this.status=t,this.type=Ur}};var Rt=new j("@ngrx/store-devtools Options"),xr=new j("@ngrx/store-devtools Initial Config");function Gr(){return null}var zn="NgRx Store DevTools";function Hn(e){let t={maxAge:!1,monitor:Gr,actionSanitizer:void 0,stateSanitizer:void 0,name:zn,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},o=typeof e=="function"?e():e,r=o.logOnly?{pause:!0,export:!0,test:!0}:!1,n=o.features||r||t.features;n.import===!0&&(n.import="custom");let i=Object.assign({},t,{features:n},o);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function Rr(e,t){return e.filter(o=>t.indexOf(o)<0)}function Vr(e){let{computedStates:t,currentStateIndex:o}=e;if(o>=t.length){let{state:n}=t[t.length-1];return n}let{state:r}=t[o];return r}function pt(e){return new it(e,+Date.now())}function qn(e,t){return Object.keys(t).reduce((o,r)=>{let n=Number(r);return o[n]=zr(e,t[n],n),o},{})}function zr(e,t,o){return l(d({},t),{action:e(t.action,o)})}function Kn(e,t){return t.map((o,r)=>({state:Hr(e,o.state,r),error:o.error}))}function Hr(e,t,o){return e(t,o)}function qr(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function Wn(e,t,o,r){let n=[],i={},s=[];return e.stagedActionIds.forEach((a,b)=>{let p=e.actionsById[a];p&&(b&&ce(e.computedStates[b],p,t,o,r)||(i[a]=p,n.push(a),s.push(e.computedStates[b])))}),l(d({},e),{stagedActionIds:n,actionsById:i,computedStates:s})}function ce(e,t,o,r,n){let i=o&&!o(e,t.action),s=r&&!t.action.type.match(r.map(b=>kr(b)).join("|")),a=n&&t.action.type.match(n.map(b=>kr(b)).join("|"));return i||s||a}function kr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Kr(e){return{ngZone:e?h(J):null,connectInZone:e}}var kt=(()=>{let t=class t extends At{};t.\u0275fac=(()=>{let r;return function(i){return(r||(r=Fe(t)))(i||t)}})(),t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})(),Ct={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},se=new j("@ngrx/store-devtools Redux Devtools Extension"),Wr=(()=>{let t=class t{constructor(r,n,i){this.config=n,this.dispatcher=i,this.zoneConfig=Kr(this.config.connectInZone),this.devtoolsExtension=r,this.createActionStreams()}notify(r,n){if(this.devtoolsExtension)if(r.type===ft){if(n.isLocked||n.isPaused)return;let i=Vr(n);if(qr(this.config)&&ce(i,r,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?Hr(this.config.stateSanitizer,i,n.currentStateIndex):i,a=this.config.actionSanitizer?zr(this.config.actionSanitizer,r,n.nextActionId):r;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,s))}else{let i=l(d({},n),{stagedActionIds:n.stagedActionIds,actionsById:this.config.actionSanitizer?qn(this.config.actionSanitizer,n.actionsById):n.actionsById,computedStates:this.config.stateSanitizer?Kn(this.config.stateSanitizer,n.computedStates):n.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new at(r=>{let n=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=n,n.init(),n.subscribe(i=>r.next(i)),n.unsubscribe}):fe}createActionStreams(){let r=this.createChangesObservable().pipe(Te()),n=r.pipe(F(u=>u.type===Ct.START)),i=r.pipe(F(u=>u.type===Ct.STOP)),s=r.pipe(F(u=>u.type===Ct.DISPATCH),S(u=>this.unwrapAction(u.payload)),ct(u=>u.type===ae?this.dispatcher.pipe(F(c=>c.type===Ht),ge(1e3),Ee(1e3),S(()=>u),mt(()=>W(u)),$(1)):W(u))),b=r.pipe(F(u=>u.type===Ct.ACTION),S(u=>this.unwrapAction(u.payload))).pipe(Et(i)),p=s.pipe(Et(i));this.start$=n.pipe(Et(i)),this.actions$=this.start$.pipe(w(()=>b)),this.liftedActions$=this.start$.pipe(w(()=>p))}unwrapAction(r){return typeof r=="string"?(0,eval)(`(${r})`):r}getExtensionConfig(r){let n={name:r.name,features:r.features,serialize:r.serialize,autoPause:r.autoPause??!1,trace:r.trace??!1,traceLimit:r.traceLimit??75};return r.maxAge!==!1&&(n.maxAge=r.maxAge),n}sendToReduxDevtools(r){try{r()}catch(n){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",n)}}};t.\u0275fac=function(n){return new(n||t)(O(se),O(Rt),O(kt))},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})(),xt={type:zt},Zn="@ngrx/store-devtools/recompute",Yn={type:Zn};function Zr(e,t,o,r,n){if(r)return{state:o,error:"Interrupted by an error up the chain"};let i=o,s;try{i=e(o,t)}catch(a){s=a.toString(),n.handleError(a)}return{state:i,error:s}}function wt(e,t,o,r,n,i,s,a,b){if(t>=e.length&&e.length===i.length)return e;let p=e.slice(0,t),u=i.length-(b?1:0);for(let c=t;c<u;c++){let m=i[c],P=n[m].action,g=p[c-1],f=g?g.state:r,_=g?g.error:void 0,U=s.indexOf(m)>-1?g:Zr(o,P,f,_,a);p.push(U)}return b&&p.push(e[e.length-1]),p}function Xn(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:pt(xt)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Jn(e,t,o,r,n={}){return i=>(s,a)=>{let{monitorState:b,actionsById:p,nextActionId:u,stagedActionIds:c,skippedActionIds:m,committedState:P,currentStateIndex:g,computedStates:f,isLocked:_,isPaused:N}=s||t;s||(p=Object.create(p));function U(C){let y=C,H=c.slice(1,y+1);for(let D=0;D<H.length;D++)if(f[D+1].error){y=D,H=c.slice(1,y+1);break}else delete p[H[D]];m=m.filter(D=>H.indexOf(D)===-1),c=[0,...c.slice(y+1)],P=f[y].state,f=f.slice(y),g=g>y?g-y:0}function Y(){p={0:pt(xt)},u=1,c=[0],m=[],P=f[g].state,g=0,f=[]}let E=0;switch(a.type){case _r:{_=a.status,E=1/0;break}case Ur:{N=a.status,N?(c=[...c,u],p[u]=new it({type:"@ngrx/devtools/pause"},+Date.now()),u++,E=c.length-1,f=f.concat(f[f.length-1]),g===c.length-2&&g++,E=1/0):Y();break}case Pr:{p={0:pt(xt)},u=1,c=[0],m=[],P=e,g=0,f=[];break}case Nr:{Y();break}case jr:{p={0:pt(xt)},u=1,c=[0],m=[],g=0,f=[];break}case $r:{let{id:C}=a;m.indexOf(C)===-1?m=[C,...m]:m=m.filter(H=>H!==C),E=c.indexOf(C);break}case Vn:{let{start:C,end:y,active:H}=a,D=[];for(let jt=C;jt<y;jt++)D.push(jt);H?m=Rr(m,D):m=[...m,...D],E=c.indexOf(C);break}case Lr:{g=a.index,E=1/0;break}case Br:{let C=c.indexOf(a.actionId);C!==-1&&(g=C),E=1/0;break}case Dr:{c=Rr(c,m),m=[],g=Math.min(g,c.length-1);break}case ft:{if(_)return s||t;if(N||s&&ce(s.computedStates[g],a,n.predicate,n.actionsSafelist,n.actionsBlocklist)){let y=f[f.length-1];f=[...f.slice(0,-1),Zr(i,a.action,y.state,y.error,o)],E=1/0;break}n.maxAge&&c.length===n.maxAge&&U(1),g===c.length-1&&g++;let C=u++;p[C]=a,c=[...c,C],E=c.length-1;break}case ae:{({monitorState:b,actionsById:p,nextActionId:u,stagedActionIds:c,skippedActionIds:m,committedState:P,currentStateIndex:g,computedStates:f,isLocked:_,isPaused:N}=a.nextLiftedState);break}case zt:{E=0,n.maxAge&&c.length>n.maxAge&&(f=wt(f,E,i,P,p,c,m,o,N),U(c.length-n.maxAge),E=1/0);break}case Ht:{if(f.filter(y=>y.error).length>0)E=0,n.maxAge&&c.length>n.maxAge&&(f=wt(f,E,i,P,p,c,m,o,N),U(c.length-n.maxAge),E=1/0);else{if(!N&&!_){g===c.length-1&&g++;let y=u++;p[y]=new it(a,+Date.now()),c=[...c,y],E=c.length-1,f=wt(f,E,i,P,p,c,m,o,N)}f=f.map(y=>l(d({},y),{state:i(y.state,Yn)})),g=c.length-1,n.maxAge&&c.length>n.maxAge&&U(c.length-n.maxAge),E=1/0}break}default:{E=1/0;break}}return f=wt(f,E,i,P,p,c,m,o,N),b=r(b,a),{monitorState:b,actionsById:p,nextActionId:u,stagedActionIds:c,skippedActionIds:m,committedState:P,currentStateIndex:g,computedStates:f,isLocked:_,isPaused:N}}}var Mr=(()=>{let t=class t{constructor(r,n,i,s,a,b,p,u){let c=Xn(p,u.monitor),m=Jn(p,c,b,u.monitor,u),P=z(z(n.asObservable().pipe(Ce(1)),s.actions$).pipe(S(pt)),r,s.liftedActions$).pipe(le(pe)),g=i.pipe(S(m)),f=Kr(u.connectInZone),_=new de(1);this.liftedStateSubscription=P.pipe(we(g),Fr(f),Oe(({state:Y},[E,C])=>{let y=C(Y,E);return E.type!==ft&&qr(u)&&(y=Wn(y,u.predicate,u.actionsSafelist,u.actionsBlocklist)),s.notify(E,y),{state:y,action:E}},{state:c,action:null})).subscribe(({state:Y,action:E})=>{if(_.next(Y),E.type===ft){let C=E.action;a.next(C)}}),this.extensionStartSubscription=s.start$.pipe(Fr(f)).subscribe(()=>{this.refresh()});let N=_.asObservable(),U=N.pipe(S(Vr));Object.defineProperty(U,"state",{value:Je(U,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=r,this.liftedState=N,this.state=U}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(r){this.dispatcher.next(r)}next(r){this.dispatcher.next(r)}error(r){}complete(){}performAction(r){this.dispatch(new it(r,+Date.now()))}refresh(){this.dispatch(new Zt)}reset(){this.dispatch(new Yt(+Date.now()))}rollback(){this.dispatch(new Xt(+Date.now()))}commit(){this.dispatch(new Jt(+Date.now()))}sweep(){this.dispatch(new Qt)}toggleAction(r){this.dispatch(new te(r))}jumpToAction(r){this.dispatch(new re(r))}jumpToState(r){this.dispatch(new ee(r))}importState(r){this.dispatch(new ne(r))}lockChanges(r){this.dispatch(new oe(r))}pauseRecording(r){this.dispatch(new ie(r))}};t.\u0275fac=function(n){return new(n||t)(O(kt),O(At),O(rr),O(Wr),O(bt),O(yt),O(Qe),O(Rt))},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();function Fr({ngZone:e,connectInZone:t}){return o=>t?new at(r=>o.subscribe({next:n=>e.run(()=>r.next(n)),error:n=>e.run(()=>r.error(n)),complete:()=>e.run(()=>r.complete())})):o}var Qn=new j("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function to(e,t){return!!e||t.monitor!==Gr}function eo(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Yr(e={}){return q([Wr,kt,Mr,{provide:xr,useValue:e},{provide:Qn,deps:[se,Rt],useFactory:to},{provide:se,useFactory:eo},{provide:Rt,deps:[xr],useFactory:Hn},{provide:or,deps:[Mr],useFactory:ro},{provide:nr,useExisting:kt}])}function ro(e){return e.state}var Xr=[{provide:Ke,useClass:ur}],Jr=[{provide:gr,useValue:{hideSingleSelectionIndicator:!0}},{provide:hr,useValue:{hideSingleSelectionIndicator:!0}},{provide:lr,useValue:{subscriptSizing:"dynamic"}}],Qr=[];var tn=[{path:"",redirectTo:Z.Books,pathMatch:"full"},{path:Z.Authors,loadChildren:()=>import("./chunk-OTRJVXDR.js")},{path:Z.Books,loadChildren:()=>import("./chunk-CH2T4ZWI.js")},{path:Z.Book,loadChildren:()=>import("./chunk-2CJBXFFU.js")},{path:Z.NotFound,loadChildren:()=>import("./chunk-KZDW2236.js")},{path:"**",redirectTo:Z.NotFound,pathMatch:"full"}];var Mt=(()=>{let t=class t{constructor(){this.httpClient=h(Q),this.restPath="authors"}getAuthors(){return this.httpClient.get(`${L}/${this.restPath}.json`).pipe(S(r=>Object.values(r)??[]))}addAuthor(r){return this.httpClient.put(`${L}/${this.restPath}/${r.id}.json`,r)}editAuthor(r){return this.httpClient.patch(`${L}/${this.restPath}/${r.id}.json`,r)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var en=(()=>{let t=class t{constructor(){this.actions$=h(ot),this.authorsApiService=h(Mt),this.getAuthors$=R(()=>this.actions$.pipe(k(x.getAuthors.requested),w(()=>this.authorsApiService.getAuthors().pipe(B(x.getAuthors))))),this.addAuthor$=R(()=>this.actions$.pipe(k(x.addAuthor.requested),w(r=>this.authorsApiService.addAuthor(r.payload).pipe(B(x.addAuthor))))),this.addAuthorSucceeded$=R(()=>this.actions$.pipe(k(x.addAuthor.succeeded),G(()=>{K.success({message:"\u041D\u043E\u0432\u044B\u0439 \u0430\u0432\u0442\u043E\u0440 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D"})})),{dispatch:!1}),this.addAuthorFailed$=R(()=>this.actions$.pipe(k(x.addAuthor.failed),G(()=>{K.error({message:"\u0410\u0432\u0442\u043E\u0440 \u043D\u0435 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D"})})),{dispatch:!1}),this.editAuthor$=R(()=>this.actions$.pipe(k(x.editAuthor.requested),w(r=>this.authorsApiService.editAuthor(r.payload).pipe(B(x.editAuthor))))),this.editAuthorSucceeded$=R(()=>this.actions$.pipe(k(x.editAuthor.succeeded),G(()=>{K.success({message:"A\u0432\u0442\u043E\u0440 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0438\u0437\u043C\u0435\u043D\u0435\u043D"})})),{dispatch:!1}),this.editAuthorFailed$=R(()=>this.actions$.pipe(k(x.editAuthor.failed),G(()=>{K.error({message:"\u0410\u0432\u0442\u043E\u0440 \u043D\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D"})})),{dispatch:!1})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var ue={authors:[],authorsLoadingStatus:I.loading},no=et(ue,A(x.getAuthors.requested,e=>l(d({},e),{authors:ue.authors,authorsLoadingStatus:I.loading})),A(x.getAuthors.succeeded,(e,t)=>l(d({},e),{authors:t.payload,authorsLoadingStatus:I.loaded})),A(x.getAuthors.failed,e=>l(d({},e),{authors:ue.authors,authorsLoadingStatus:I.loaded})),A(x.addAuthor.succeeded,(e,t)=>l(d({},e),{authors:e.authors.concat(t.payload)})),A(x.editAuthor.succeeded,(e,t)=>{let o=e.authors.slice(),r=o.findIndex(n=>n.id===t.payload.id);return r>-1&&(o[r]=t.payload),l(d({},e),{authors:o})}));function rn(e,t){return no(e,t)}var Ft=(()=>{let t=class t{constructor(){this.httpClient=h(Q),this.restPath="books"}getBooks(){return this.httpClient.get(`${L}/${this.restPath}.json`).pipe(S(r=>Object.values(r)??[]))}addBook(r){return this.httpClient.put(`${L}/${this.restPath}/${r.id}.json`,r)}getBook(r){return this.httpClient.get(`${L}/${this.restPath}/${r}.json`)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var nn=(()=>{let t=class t{constructor(){this.actions$=h(ot),this.booksApiService=h(Ft),this.getBooks$=R(()=>this.actions$.pipe(k(T.getBooks.requested),w(()=>this.booksApiService.getBooks().pipe(B(T.getBooks))))),this.addBook$=R(()=>this.actions$.pipe(k(T.addBook.requested),w(r=>this.booksApiService.addBook(r.payload).pipe(B(T.addBook))))),this.addBookSucceeded$=R(()=>this.actions$.pipe(k(T.addBook.succeeded),G(()=>{K.success({message:"\u041D\u043E\u0432\u0430\u044F \u043A\u043D\u0438\u0433\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0430"})})),{dispatch:!1}),this.addBookFailed$=R(()=>this.actions$.pipe(k(T.addBook.failed),G(()=>{K.error({message:"\u041A\u043D\u0438\u0433\u0430 \u043D\u0435 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0430"})})),{dispatch:!1}),this.getBook$=R(()=>this.actions$.pipe(k(T.getBook.requested),w(r=>this.booksApiService.getBook(r.payload).pipe(B(T.getBook)))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var st={books:[],booksLoadingStatus:I.loading,book:null,bookLoadingStatus:I.loading,sort:null,filters:null,searchQuery:""},oo=et(st,A(T.getBooks.requested,e=>l(d({},e),{books:st.books,booksLoadingStatus:I.loading})),A(T.getBooks.succeeded,(e,t)=>l(d({},e),{books:t.payload,booksLoadingStatus:I.loaded})),A(T.getBooks.failed,e=>l(d({},e),{books:st.books,booksLoadingStatus:I.loaded})),A(T.addBook.succeeded,(e,t)=>l(d({},e),{books:e.books.concat(t.payload)})),A(T.getBook.requested,e=>l(d({},e),{book:st.book,bookLoadingStatus:I.loading})),A(T.getBook.succeeded,(e,t)=>l(d({},e),{book:t.payload,bookLoadingStatus:I.loaded})),A(T.getBook.failed,e=>l(d({},e),{book:st.book,bookLoadingStatus:I.loaded})),A(T.setSort,(e,t)=>l(d({},e),{sort:t.payload})),A(T.setSearchQuery,(e,t)=>l(d({},e),{searchQuery:t.payload})),A(T.changeFilter,(e,t)=>l(d({},e),{filters:d(d({},e.filters),t.payload)})),A(T.destroyPage,e=>d(d({},e),st)));function on(e,t){return oo(e,t)}var Pt=(()=>{let t=class t{constructor(){this.httpClient=h(Q),this.restLanguagesPath="languages",this.restGenresPath="genres"}getLanguages(){return this.httpClient.get(`${L}/${this.restLanguagesPath}.json`).pipe(S(r=>r??cr))}getGenres(){return this.httpClient.get(`${L}/${this.restGenresPath}.json`).pipe(S(r=>r??ar))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var sn=(()=>{let t=class t{constructor(){this.actions$=h(ot),this.commonApiService=h(Pt),this.initApp$=R(()=>this.actions$.pipe(k(M.initApp),ct(()=>[M.getGenres.requested(),M.getLanguages.requested()]))),this.getGenres$=R(()=>this.actions$.pipe(k(M.getGenres.requested),w(()=>this.commonApiService.getGenres().pipe(B(M.getGenres))))),this.getLanguages$=R(()=>this.actions$.pipe(k(M.getLanguages.requested),w(()=>this.commonApiService.getLanguages().pipe(B(M.getLanguages)))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac});let e=t;return e})();var lt={genres:[],genresLoadingStatus:I.loading,languages:[],languagesLoadingStatus:I.loading},io=et(lt,A(M.getGenres.requested,e=>l(d({},e),{genres:lt.genres,genresLoadingStatus:I.loading})),A(M.getGenres.succeeded,(e,t)=>l(d({},e),{genres:t.payload,genresLoadingStatus:I.loaded})),A(M.getGenres.failed,e=>l(d({},e),{genres:lt.genres,genresLoadingStatus:I.loaded})),A(M.getLanguages.requested,e=>l(d({},e),{languages:lt.languages,languagesLoadingStatus:I.loading})),A(M.getLanguages.succeeded,(e,t)=>l(d({},e),{languages:t.payload,languagesLoadingStatus:I.loaded})),A(M.getLanguages.failed,e=>l(d({},e),{languages:lt.languages,languagesLoadingStatus:I.loaded})));function an(e,t){return io(e,t)}var cn={providers:[It(fr,on),It(rt,an),It(pr,rn),Tt([nn,sn,en]),Ft,Pt,Mt]};var so={onViewTransitionCreated:e=>{let t=h(We),o=t.getCurrentNavigation()?.finalUrl??"",r={paths:"exact",matrixParams:"exact",fragment:"ignored",queryParams:"ignored"};t.isActive(o,r)&&e.transition.skipTransition()}},ao=[],un={providers:[Ze(tn,Ye(),Xe(so)),Er(),Ve(),Ir("ngsw-worker.js",{enabled:!Ut(),registrationStrategy:"registerWhenStable:30000"}),ir(),Tt([]),Ut()?Yr():[],Me(ao),...cn.providers,...Xr,...Jr,...Qr]};He(mr,un).catch(e=>console.error(e));
